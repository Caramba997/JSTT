[{"url":"https://api.github.com/repos/JedWatson/classnames/issues/281","repository_url":"https://api.github.com/repos/JedWatson/classnames","labels_url":"https://api.github.com/repos/JedWatson/classnames/issues/281/labels{/name}","comments_url":"https://api.github.com/repos/JedWatson/classnames/issues/281/comments","events_url":"https://api.github.com/repos/JedWatson/classnames/issues/281/events","html_url":"https://github.com/JedWatson/classnames/pull/281","id":1370698396,"node_id":"PR_kwDOAY-3QM4-02uQ","number":281,"title":"Fix toString as '[Object object]' in a vm","user":{"login":"dcousens","id":413395,"node_id":"MDQ6VXNlcjQxMzM5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/413395?v=4","gravatar_id":"","url":"https://api.github.com/users/dcousens","html_url":"https://github.com/dcousens","followers_url":"https://api.github.com/users/dcousens/followers","following_url":"https://api.github.com/users/dcousens/following{/other_user}","gists_url":"https://api.github.com/users/dcousens/gists{/gist_id}","starred_url":"https://api.github.com/users/dcousens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcousens/subscriptions","organizations_url":"https://api.github.com/users/dcousens/orgs","repos_url":"https://api.github.com/users/dcousens/repos","events_url":"https://api.github.com/users/dcousens/events{/privacy}","received_events_url":"https://api.github.com/users/dcousens/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-09-13T00:52:19Z","updated_at":"2022-09-20T09:20:03Z","closed_at":"2022-09-13T00:54:28Z","author_association":"COLLABORATOR","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/JedWatson/classnames/pulls/281","html_url":"https://github.com/JedWatson/classnames/pull/281","diff_url":"https://github.com/JedWatson/classnames/pull/281.diff","patch_url":"https://github.com/JedWatson/classnames/pull/281.patch","merged_at":"2022-09-13T00:54:28Z"},"body":"Builds on https://github.com/JedWatson/classnames/pull/255, thanks to @markdalgleish for the base code.\r\nThis pull request shortcuts the `toString.toString()` workaround by ensuring it fails the existing `arg.toString !== Object.prototype.toString` first.\r\n\r\nSeeing as `toString` is an edge case in the first place, this balances our performance by having low to no impact in typical usage.\r\nWe have the option to shortcut with `hasOwnProperty('toString')` if that code path is desired, but I have opted out of that for now.\r\n\r\nBenchmark results for this pull request\r\n```\r\nMozilla/5.0 (X11; Linux x86_64; rv:104.0) Gecko/20100101 Firefox/104.0\r\n* local#strings x 9,997,500 ops/sec ±1.21% (64 runs sampled)\r\n* npm#strings x 10,106,445 ops/sec ±0.79% (66 runs sampled)\r\n* local/dedupe#strings x 2,056,185 ops/sec ±0.34% (67 runs sampled)\r\n* npm/dedupe#strings x 2,144,413 ops/sec ±0.25% (68 runs sampled)\r\n\r\n> Fastest is npm#strings | local#strings\r\n\r\n* local#object x 6,763,187 ops/sec ±0.80% (67 runs sampled)\r\n* npm#object x 6,685,687 ops/sec ±0.91% (67 runs sampled)\r\n* local/dedupe#object x 3,986,428 ops/sec ±1.21% (38 runs sampled)\r\n* npm/dedupe#object x 3,955,846 ops/sec ±0.54% (66 runs sampled)\r\n\r\n> Fastest is local#object | npm#object\r\n\r\n* local#strings, object x 6,075,125 ops/sec ±0.94% (66 runs sampled)\r\n* npm#strings, object x 5,996,929 ops/sec ±1.22% (64 runs sampled)\r\n* local/dedupe#strings, object x 2,003,171 ops/sec ±0.64% (67 runs sampled)\r\n* npm/dedupe#strings, object x 2,007,377 ops/sec ±0.43% (67 runs sampled)\r\n\r\n> Fastest is local#strings, object | npm#strings, object\r\n\r\n* local#mix x 3,123,072 ops/sec ±0.60% (65 runs sampled)\r\n* npm#mix x 3,178,872 ops/sec ±0.69% (66 runs sampled)\r\n* local/dedupe#mix x 817,797 ops/sec ±6.46% (62 runs sampled)\r\n* npm/dedupe#mix x 821,086 ops/sec ±4.42% (64 runs sampled)\r\n\r\n> Fastest is npm#mix\r\n\r\n* local#arrays x 1,199,652 ops/sec ±0.97% (63 runs sampled)\r\n* npm#arrays x 1,150,411 ops/sec ±2.05% (62 runs sampled)\r\n* local/dedupe#arrays x 716,685 ops/sec ±1.22% (65 runs sampled)\r\n* npm/dedupe#arrays x 755,361 ops/sec ±0.39% (67 runs sampled)\r\n\r\n> Fastest is local#arrays\r\n\r\nFinished\r\n```","reactions":{"url":"https://api.github.com/repos/JedWatson/classnames/issues/281/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/JedWatson/classnames/issues/281/timeline","performed_via_github_app":null,"state_reason":null,"score":1,"files":[{"sha":"a78799e5ed2ecb3d09f9b28693e7ed8328dc8148","filename":"benchmarks/package-lock.json","status":"modified","additions":47,"deletions":8,"changes":55,"blob_url":"https://github.com/JedWatson/classnames/blob/52c1223d0c29415674d5513c725e3e204611f15e/benchmarks%2Fpackage-lock.json","raw_url":"https://github.com/JedWatson/classnames/raw/52c1223d0c29415674d5513c725e3e204611f15e/benchmarks%2Fpackage-lock.json","contents_url":"https://api.github.com/repos/JedWatson/classnames/contents/benchmarks%2Fpackage-lock.json?ref=52c1223d0c29415674d5513c725e3e204611f15e","patch":"@@ -1,23 +1,62 @@\n {\n   \"name\": \"classnames-benchmarks\",\n   \"version\": \"1.0.0\",\n-  \"lockfileVersion\": 1,\n+  \"lockfileVersion\": 2,\n   \"requires\": true,\n+  \"packages\": {\n+    \"\": {\n+      \"name\": \"classnames-benchmarks\",\n+      \"version\": \"1.0.0\",\n+      \"license\": \"MIT\",\n+      \"devDependencies\": {\n+        \"benchmark\": \"2.1.4\",\n+        \"classnames\": \"*\"\n+      }\n+    },\n+    \"node_modules/benchmark\": {\n+      \"version\": \"2.1.4\",\n+      \"resolved\": \"https://registry.npmjs.org/benchmark/-/benchmark-2.1.4.tgz\",\n+      \"integrity\": \"sha512-l9MlfN4M1K/H2fbhfMy3B7vJd6AGKJVQn2h6Sg/Yx+KckoUA7ewS5Vv6TjSq18ooE1kS9hhAlQRH3AkXIh/aOQ==\",\n+      \"dev\": true,\n+      \"dependencies\": {\n+        \"lodash\": \"^4.17.4\",\n+        \"platform\": \"^1.3.3\"\n+      }\n+    },\n+    \"node_modules/classnames\": {\n+      \"version\": \"2.3.1\",\n+      \"resolved\": \"https://registry.npmjs.org/classnames/-/classnames-2.3.1.tgz\",\n+      \"integrity\": \"sha512-OlQdbZ7gLfGarSqxesMesDa5uz7KFbID8Kpq/SxIoNGDqY8lSYs0D+hhtBXhcdB3rcbXArFr7vlHheLk1voeNA==\",\n+      \"dev\": true\n+    },\n+    \"node_modules/lodash\": {\n+      \"version\": \"4.17.21\",\n+      \"resolved\": \"https://registry.npmjs.org/lodash/-/lodash-4.17.21.tgz\",\n+      \"integrity\": \"sha512-v2kDEe57lecTulaDIuNTPy3Ry4gLGJ6Z1O3vE1krgXZNrsQ+LFTGHVxVjcXPs17LhbZVGedAJv8XZ1tvj5FvSg==\",\n+      \"dev\": true\n+    },\n+    \"node_modules/platform\": {\n+      \"version\": \"1.3.6\",\n+      \"resolved\": \"https://registry.npmjs.org/platform/-/platform-1.3.6.tgz\",\n+      \"integrity\": \"sha512-fnWVljUchTro6RiCFvCXBbNhJc2NijN7oIQxbwsyL0buWJPG85v81ehlHI9fXrJsMNgTofEoWIQeClKpgxFLrg==\",\n+      \"dev\": true\n+    }\n+  },\n   \"dependencies\": {\n     \"benchmark\": {\n       \"version\": \"2.1.4\",\n       \"resolved\": \"https://registry.npmjs.org/benchmark/-/benchmark-2.1.4.tgz\",\n-      \"integrity\": \"sha1-CfPeMckWQl1JjMLuVloOvzwqVik=\",\n+      \"integrity\": \"sha512-l9MlfN4M1K/H2fbhfMy3B7vJd6AGKJVQn2h6Sg/Yx+KckoUA7ewS5Vv6TjSq18ooE1kS9hhAlQRH3AkXIh/aOQ==\",\n       \"dev\": true,\n       \"requires\": {\n         \"lodash\": \"^4.17.4\",\n         \"platform\": \"^1.3.3\"\n       }\n     },\n     \"classnames\": {\n-      \"version\": \"2.2.6\",\n-      \"resolved\": \"https://registry.npmjs.org/classnames/-/classnames-2.2.6.tgz\",\n-      \"integrity\": \"sha512-JR/iSQOSt+LQIWwrwEzJ9uk0xfN3mTVYMwt1Ir5mUcSN6pU+V4zQFFaJsclJbPuAUQH+yfWef6tm7l1quW3C8Q==\",\n+      \"version\": \"2.3.1\",\n+      \"resolved\": \"https://registry.npmjs.org/classnames/-/classnames-2.3.1.tgz\",\n+      \"integrity\": \"sha512-OlQdbZ7gLfGarSqxesMesDa5uz7KFbID8Kpq/SxIoNGDqY8lSYs0D+hhtBXhcdB3rcbXArFr7vlHheLk1voeNA==\",\n       \"dev\": true\n     },\n     \"lodash\": {\n@@ -27,9 +66,9 @@\n       \"dev\": true\n     },\n     \"platform\": {\n-      \"version\": \"1.3.5\",\n-      \"resolved\": \"https://registry.npmjs.org/platform/-/platform-1.3.5.tgz\",\n-      \"integrity\": \"sha512-TuvHS8AOIZNAlE77WUDiR4rySV/VMptyMfcfeoMgs4P8apaZM3JrnbzBiixKUv+XR6i+BXrQh8WAnjaSPFO65Q==\",\n+      \"version\": \"1.3.6\",\n+      \"resolved\": \"https://registry.npmjs.org/platform/-/platform-1.3.6.tgz\",\n+      \"integrity\": \"sha512-fnWVljUchTro6RiCFvCXBbNhJc2NijN7oIQxbwsyL0buWJPG85v81ehlHI9fXrJsMNgTofEoWIQeClKpgxFLrg==\",\n       \"dev\": true\n     }\n   }"},{"sha":"591f85993d21783b6f20142157be77c26e923e07","filename":"bind.js","status":"modified","additions":11,"deletions":10,"changes":21,"blob_url":"https://github.com/JedWatson/classnames/blob/52c1223d0c29415674d5513c725e3e204611f15e/bind.js","raw_url":"https://github.com/JedWatson/classnames/raw/52c1223d0c29415674d5513c725e3e204611f15e/bind.js","contents_url":"https://api.github.com/repos/JedWatson/classnames/contents/bind.js?ref=52c1223d0c29415674d5513c725e3e204611f15e","patch":"@@ -1,7 +1,7 @@\n /*!\n-  Copyright (c) 2018 Jed Watson.\n-  Licensed under the MIT License (MIT), see\n-  http://jedwatson.github.io/classnames\n+\tCopyright (c) 2018 Jed Watson.\n+\tLicensed under the MIT License (MIT), see\n+\thttp://jedwatson.github.io/classnames\n */\n /* global define */\n \n@@ -24,14 +24,15 @@\n \t\t\t} else if (Array.isArray(arg)) {\n \t\t\t\tclasses.push(classNames.apply(this, arg));\n \t\t\t} else if (argType === 'object') {\n-\t\t\t\tif (arg.toString === Object.prototype.toString) {\n-\t\t\t\t\tfor (var key in arg) {\n-\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n-\t\t\t\t\t\t\tclasses.push(this && this[key] || key);\n-\t\t\t\t\t\t}\n-\t\t\t\t\t}\n-\t\t\t\t} else {\n+\t\t\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n \t\t\t\t\tclasses.push(arg.toString());\n+\t\t\t\t\tcontinue;\n+\t\t\t\t}\n+\n+\t\t\t\tfor (var key in arg) {\n+\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n+\t\t\t\t\t\tclasses.push(this && this[key] || key);\n+\t\t\t\t\t}\n \t\t\t\t}\n \t\t\t}\n \t\t}"},{"sha":"3a7264b71e0e15670a491bfe07d885669a0a1bc7","filename":"dedupe.js","status":"modified","additions":13,"deletions":12,"changes":25,"blob_url":"https://github.com/JedWatson/classnames/blob/52c1223d0c29415674d5513c725e3e204611f15e/dedupe.js","raw_url":"https://github.com/JedWatson/classnames/raw/52c1223d0c29415674d5513c725e3e204611f15e/dedupe.js","contents_url":"https://api.github.com/repos/JedWatson/classnames/contents/dedupe.js?ref=52c1223d0c29415674d5513c725e3e204611f15e","patch":"@@ -1,7 +1,7 @@\n /*!\n-  Copyright (c) 2018 Jed Watson.\n-  Licensed under the MIT License (MIT), see\n-  http://jedwatson.github.io/classnames\n+\tCopyright (c) 2018 Jed Watson.\n+\tLicensed under the MIT License (MIT), see\n+\thttp://jedwatson.github.io/classnames\n */\n /* global define */\n \n@@ -29,16 +29,17 @@\n \t\t}\n \n \t\tfunction _parseObject (resultSet, object) {\n-\t\t\tif (object.toString === Object.prototype.toString) {\n-\t\t\t\tfor (var k in object) {\n-\t\t\t\t\tif (hasOwn.call(object, k)) {\n-\t\t\t\t\t\t// set value to false instead of deleting it to avoid changing object structure\n-\t\t\t\t\t\t// https://www.smashingmagazine.com/2012/11/writing-fast-memory-efficient-javascript/#de-referencing-misconceptions\n-\t\t\t\t\t\tresultSet[k] = !!object[k];\n-\t\t\t\t\t}\n-\t\t\t\t}\n-\t\t\t} else {\n+\t\t\tif (object.toString !== Object.prototype.toString && !object.toString.toString().includes('[native code]')) {\n \t\t\t\tresultSet[object.toString()] = true;\n+\t\t\t\treturn;\n+\t\t\t}\n+\n+\t\t\tfor (var k in object) {\n+\t\t\t\tif (hasOwn.call(object, k)) {\n+\t\t\t\t\t// set value to false instead of deleting it to avoid changing object structure\n+\t\t\t\t\t// https://www.smashingmagazine.com/2012/11/writing-fast-memory-efficient-javascript/#de-referencing-misconceptions\n+\t\t\t\t\tresultSet[k] = !!object[k];\n+\t\t\t\t}\n \t\t\t}\n \t\t}\n "},{"sha":"d6cc1513c45817dd58a0398c69abd54951c540c6","filename":"index.js","status":"modified","additions":12,"deletions":10,"changes":22,"blob_url":"https://github.com/JedWatson/classnames/blob/52c1223d0c29415674d5513c725e3e204611f15e/index.js","raw_url":"https://github.com/JedWatson/classnames/raw/52c1223d0c29415674d5513c725e3e204611f15e/index.js","contents_url":"https://api.github.com/repos/JedWatson/classnames/contents/index.js?ref=52c1223d0c29415674d5513c725e3e204611f15e","patch":"@@ -1,14 +1,15 @@\n /*!\n-  Copyright (c) 2018 Jed Watson.\n-  Licensed under the MIT License (MIT), see\n-  http://jedwatson.github.io/classnames\n+\tCopyright (c) 2018 Jed Watson.\n+\tLicensed under the MIT License (MIT), see\n+\thttp://jedwatson.github.io/classnames\n */\n /* global define */\n \n (function () {\n \t'use strict';\n \n \tvar hasOwn = {}.hasOwnProperty;\n+\tvar nativeCodeString = '[native code]';\n \n \tfunction classNames() {\n \t\tvar classes = [];\n@@ -29,14 +30,15 @@\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t} else if (argType === 'object') {\n-\t\t\t\tif (arg.toString === Object.prototype.toString) {\n-\t\t\t\t\tfor (var key in arg) {\n-\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n-\t\t\t\t\t\t\tclasses.push(key);\n-\t\t\t\t\t\t}\n-\t\t\t\t\t}\n-\t\t\t\t} else {\n+\t\t\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n \t\t\t\t\tclasses.push(arg.toString());\n+\t\t\t\t\tcontinue;\n+\t\t\t\t}\n+\n+\t\t\t\tfor (var key in arg) {\n+\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n+\t\t\t\t\t\tclasses.push(key);\n+\t\t\t\t\t}\n \t\t\t\t}\n \t\t\t}\n \t\t}"},{"sha":"18fb4191cd7ced90003423b82cfeb99794ff2f70","filename":"package-lock.json","status":"modified","additions":2324,"deletions":2156,"changes":4480,"blob_url":"https://github.com/JedWatson/classnames/blob/52c1223d0c29415674d5513c725e3e204611f15e/package-lock.json","raw_url":"https://github.com/JedWatson/classnames/raw/52c1223d0c29415674d5513c725e3e204611f15e/package-lock.json","contents_url":"https://api.github.com/repos/JedWatson/classnames/contents/package-lock.json?ref=52c1223d0c29415674d5513c725e3e204611f15e"},{"sha":"59fee88b879185e3bf4a55961f3a3523c6be2690","filename":"tests/index.js","status":"modified","additions":11,"deletions":0,"changes":11,"blob_url":"https://github.com/JedWatson/classnames/blob/52c1223d0c29415674d5513c725e3e204611f15e/tests%2Findex.js","raw_url":"https://github.com/JedWatson/classnames/raw/52c1223d0c29415674d5513c725e3e204611f15e/tests%2Findex.js","contents_url":"https://api.github.com/repos/JedWatson/classnames/contents/tests%2Findex.js?ref=52c1223d0c29415674d5513c725e3e204611f15e","patch":"@@ -1,6 +1,7 @@\n /* global describe, it */\n \n var assert = require('assert');\n+var vm = require('vm');\n var classNames = require('../');\n \n describe('classNames', function () {\n@@ -105,4 +106,14 @@ describe('classNames', function () {\n \n \t\tassert.equal(classNames(new Class2()), 'classFromMethod');\n \t});\n+\n+\tit('handles objects in a VM', function () {\n+\t\tvar context = { classNames, output: undefined };\n+\t\tvm.createContext(context);\n+\n+\t\tvar code = 'output = classNames({ a: true, b: true });';\n+\n+\t\tvm.runInContext(code, context);\n+\t\tassert.equal(context.output, 'a b');\n+\t});\n });"}]},{"url":"https://api.github.com/repos/JedWatson/classnames/issues/250","repository_url":"https://api.github.com/repos/JedWatson/classnames","labels_url":"https://api.github.com/repos/JedWatson/classnames/issues/250/labels{/name}","comments_url":"https://api.github.com/repos/JedWatson/classnames/issues/250/comments","events_url":"https://api.github.com/repos/JedWatson/classnames/issues/250/events","html_url":"https://github.com/JedWatson/classnames/pull/250","id":880398000,"node_id":"MDExOlB1bGxSZXF1ZXN0NjM0MDU5NTE5","number":250,"title":"Bump lodash from 4.17.19 to 4.17.21 in /benchmarks","user":{"login":"dependabot[bot]","id":49699333,"node_id":"MDM6Qm90NDk2OTkzMzM=","avatar_url":"https://avatars.githubusercontent.com/in/29110?v=4","gravatar_id":"","url":"https://api.github.com/users/dependabot%5Bbot%5D","html_url":"https://github.com/apps/dependabot","followers_url":"https://api.github.com/users/dependabot%5Bbot%5D/followers","following_url":"https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dependabot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/dependabot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/dependabot%5Bbot%5D/repos","events_url":"https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/dependabot%5Bbot%5D/received_events","type":"Bot","site_admin":false},"labels":[{"id":1652394328,"node_id":"MDU6TGFiZWwxNjUyMzk0MzI4","url":"https://api.github.com/repos/JedWatson/classnames/labels/dependencies","name":"dependencies","color":"0366d6","default":false,"description":"Pull requests that update a dependency file"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-05-08T06:52:06Z","updated_at":"2021-05-08T11:54:22Z","closed_at":"2021-05-08T11:54:19Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/JedWatson/classnames/pulls/250","html_url":"https://github.com/JedWatson/classnames/pull/250","diff_url":"https://github.com/JedWatson/classnames/pull/250.diff","patch_url":"https://github.com/JedWatson/classnames/pull/250.patch","merged_at":"2021-05-08T11:54:19Z"},"body":"Bumps [lodash](https://github.com/lodash/lodash) from 4.17.19 to 4.17.21.\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/lodash/lodash/commit/f299b52f39486275a9e6483b60a410e06520c538\"><code>f299b52</code></a> Bump to v4.17.21</li>\n<li><a href=\"https://github.com/lodash/lodash/commit/c4847ebe7d14540bb28a8b932a9ce1b9ecbfee1a\"><code>c4847eb</code></a> Improve performance of <code>toNumber</code>, <code>trim</code> and <code>trimEnd</code> on large input strings</li>\n<li><a href=\"https://github.com/lodash/lodash/commit/3469357cff396a26c363f8c1b5a91dde28ba4b1c\"><code>3469357</code></a> Prevent command injection through <code>_.template</code>'s <code>variable</code> option</li>\n<li><a href=\"https://github.com/lodash/lodash/commit/ded9bc66583ed0b4e3b7dc906206d40757b4a90a\"><code>ded9bc6</code></a> Bump to v4.17.20.</li>\n<li><a href=\"https://github.com/lodash/lodash/commit/63150ef7645ac07961b63a86490f419f356429aa\"><code>63150ef</code></a> Documentation fixes.</li>\n<li><a href=\"https://github.com/lodash/lodash/commit/00f0f62a979d2f5fa0287c06eae70cf9a62d8794\"><code>00f0f62</code></a> test.js: Remove trailing comma.</li>\n<li><a href=\"https://github.com/lodash/lodash/commit/846e434c7a5b5692c55ebf5715ed677b70a32389\"><code>846e434</code></a> Temporarily use a custom fork of <code>lodash-cli</code>.</li>\n<li><a href=\"https://github.com/lodash/lodash/commit/5d046f39cbd27f573914768e3b36eeefcc4f1229\"><code>5d046f3</code></a> Re-enable Travis tests on <code>4.17</code> branch.</li>\n<li><a href=\"https://github.com/lodash/lodash/commit/aa816b36d402a1ad9385142ce7188f17dae514fd\"><code>aa816b3</code></a> Remove <code>/npm-package</code>.</li>\n<li>See full diff in <a href=\"https://github.com/lodash/lodash/compare/4.17.19...4.17.21\">compare view</a></li>\n</ul>\n</details>\n<details>\n<summary>Maintainer changes</summary>\n<p>This version was pushed to npm by <a href=\"https://www.npmjs.com/~bnjmnt4n\">bnjmnt4n</a>, a new releaser for lodash since your current version.</p>\n</details>\n<br />\n\n\n[![Dependabot compatibility score](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=lodash&package-manager=npm_and_yarn&previous-version=4.17.19&new-version=4.17.21)](https://docs.github.com/en/github/managing-security-vulnerabilities/about-dependabot-security-updates#about-compatibility-scores)\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot use these labels` will set the current labels as the default for future PRs for this repo and language\n- `@dependabot use these reviewers` will set the current reviewers as the default for future PRs for this repo and language\n- `@dependabot use these assignees` will set the current assignees as the default for future PRs for this repo and language\n- `@dependabot use this milestone` will set the current milestone as the default for future PRs for this repo and language\n\nYou can disable automated security fix PRs for this repo from the [Security Alerts page](https://github.com/JedWatson/classnames/network/alerts).\n\n</details>","reactions":{"url":"https://api.github.com/repos/JedWatson/classnames/issues/250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/JedWatson/classnames/issues/250/timeline","performed_via_github_app":null,"state_reason":null,"score":1,"files":[{"sha":"05e1aed90629fc43d0ac4d292123834b42e5729d","filename":"benchmarks/package-lock.json","status":"modified","additions":3,"deletions":3,"changes":6,"blob_url":"https://github.com/JedWatson/classnames/blob/3a3c197c1430cf8fbf481761404049db0c72f5bc/benchmarks%2Fpackage-lock.json","raw_url":"https://github.com/JedWatson/classnames/raw/3a3c197c1430cf8fbf481761404049db0c72f5bc/benchmarks%2Fpackage-lock.json","contents_url":"https://api.github.com/repos/JedWatson/classnames/contents/benchmarks%2Fpackage-lock.json?ref=3a3c197c1430cf8fbf481761404049db0c72f5bc","patch":"@@ -21,9 +21,9 @@\n       \"dev\": true\n     },\n     \"lodash\": {\n-      \"version\": \"4.17.19\",\n-      \"resolved\": \"https://registry.npmjs.org/lodash/-/lodash-4.17.19.tgz\",\n-      \"integrity\": \"sha512-JNvd8XER9GQX0v2qJgsaN/mzFCNA5BRe/j8JN9d+tWyGLSodKQHKFicdwNYzWwI3wjRnaKPsGj1XkBjx/F96DQ==\",\n+      \"version\": \"4.17.21\",\n+      \"resolved\": \"https://registry.npmjs.org/lodash/-/lodash-4.17.21.tgz\",\n+      \"integrity\": \"sha512-v2kDEe57lecTulaDIuNTPy3Ry4gLGJ6Z1O3vE1krgXZNrsQ+LFTGHVxVjcXPs17LhbZVGedAJv8XZ1tvj5FvSg==\",\n       \"dev\": true\n     },\n     \"platform\": {"}]},{"url":"https://api.github.com/repos/JedWatson/classnames/issues/170","repository_url":"https://api.github.com/repos/JedWatson/classnames","labels_url":"https://api.github.com/repos/JedWatson/classnames/issues/170/labels{/name}","comments_url":"https://api.github.com/repos/JedWatson/classnames/issues/170/comments","events_url":"https://api.github.com/repos/JedWatson/classnames/issues/170/events","html_url":"https://github.com/JedWatson/classnames/pull/170","id":342714675,"node_id":"MDExOlB1bGxSZXF1ZXN0MjAyNTQ4ODU2","number":170,"title":"Ability to handle object with own `.toString()` method","user":{"login":"resetko","id":1456814,"node_id":"MDQ6VXNlcjE0NTY4MTQ=","avatar_url":"https://avatars.githubusercontent.com/u/1456814?v=4","gravatar_id":"","url":"https://api.github.com/users/resetko","html_url":"https://github.com/resetko","followers_url":"https://api.github.com/users/resetko/followers","following_url":"https://api.github.com/users/resetko/following{/other_user}","gists_url":"https://api.github.com/users/resetko/gists{/gist_id}","starred_url":"https://api.github.com/users/resetko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/resetko/subscriptions","organizations_url":"https://api.github.com/users/resetko/orgs","repos_url":"https://api.github.com/users/resetko/repos","events_url":"https://api.github.com/users/resetko/events{/privacy}","received_events_url":"https://api.github.com/users/resetko/received_events","type":"User","site_admin":false},"labels":[{"id":144698034,"node_id":"MDU6TGFiZWwxNDQ2OTgwMzQ=","url":"https://api.github.com/repos/JedWatson/classnames/labels/feature","name":"feature","color":"1b63c1","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"JedWatson","id":872310,"node_id":"MDQ6VXNlcjg3MjMxMA==","avatar_url":"https://avatars.githubusercontent.com/u/872310?v=4","gravatar_id":"","url":"https://api.github.com/users/JedWatson","html_url":"https://github.com/JedWatson","followers_url":"https://api.github.com/users/JedWatson/followers","following_url":"https://api.github.com/users/JedWatson/following{/other_user}","gists_url":"https://api.github.com/users/JedWatson/gists{/gist_id}","starred_url":"https://api.github.com/users/JedWatson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JedWatson/subscriptions","organizations_url":"https://api.github.com/users/JedWatson/orgs","repos_url":"https://api.github.com/users/JedWatson/repos","events_url":"https://api.github.com/users/JedWatson/events{/privacy}","received_events_url":"https://api.github.com/users/JedWatson/received_events","type":"User","site_admin":false},"assignees":[{"login":"JedWatson","id":872310,"node_id":"MDQ6VXNlcjg3MjMxMA==","avatar_url":"https://avatars.githubusercontent.com/u/872310?v=4","gravatar_id":"","url":"https://api.github.com/users/JedWatson","html_url":"https://github.com/JedWatson","followers_url":"https://api.github.com/users/JedWatson/followers","following_url":"https://api.github.com/users/JedWatson/following{/other_user}","gists_url":"https://api.github.com/users/JedWatson/gists{/gist_id}","starred_url":"https://api.github.com/users/JedWatson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JedWatson/subscriptions","organizations_url":"https://api.github.com/users/JedWatson/orgs","repos_url":"https://api.github.com/users/JedWatson/repos","events_url":"https://api.github.com/users/JedWatson/events{/privacy}","received_events_url":"https://api.github.com/users/JedWatson/received_events","type":"User","site_admin":false}],"milestone":null,"comments":22,"created_at":"2018-07-19T12:51:03Z","updated_at":"2020-10-08T08:36:08Z","closed_at":"2020-03-09T23:14:08Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/JedWatson/classnames/pulls/170","html_url":"https://github.com/JedWatson/classnames/pull/170","diff_url":"https://github.com/JedWatson/classnames/pull/170.diff","patch_url":"https://github.com/JedWatson/classnames/pull/170.patch","merged_at":"2020-03-09T23:14:08Z"},"body":"This will allow using custom `.toString()` methods for objects to generate class names.\r\n\r\nFrom a performance standpoint, it's not affecting existing scenarios (scenario with an object containing `.toString()` method will be obviously slower a bit because we need to call this function).\r\n\r\nHere is JSPerf for this: https://jsperf.com/classnames-benchmark-for-tostring\r\nFrom JSPerf I can see that it's hard to find any performance impact, so I it's less than a statistical error rate. Time to time you can get results like this: \r\n![2018-07-19-145124_974x309_escrotum](https://user-images.githubusercontent.com/1456814/42943215-6ce1c80c-8b62-11e8-8a81-4502f7b4a727.png)\r\n\r\nClosing #153 and same problem for SemanticUI https://github.com/Semantic-Org/Semantic-UI-React/issues/2599\r\n\r\n@dcousens , @JedWatson can you take a look?","reactions":{"url":"https://api.github.com/repos/JedWatson/classnames/issues/170/reactions","total_count":6,"+1":6,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/JedWatson/classnames/issues/170/timeline","performed_via_github_app":null,"state_reason":null,"score":1,"files":[{"sha":"44ee1a41336113a7127fc36bf4a8b0e51d9cf71c","filename":".travis.yml","status":"modified","additions":0,"deletions":2,"changes":2,"blob_url":"https://github.com/JedWatson/classnames/blob/bbf03f73f30a24cb7e6df06be7b672b578647523/.travis.yml","raw_url":"https://github.com/JedWatson/classnames/raw/bbf03f73f30a24cb7e6df06be7b672b578647523/.travis.yml","contents_url":"https://api.github.com/repos/JedWatson/classnames/contents/.travis.yml?ref=bbf03f73f30a24cb7e6df06be7b672b578647523","patch":"@@ -1,6 +1,4 @@\n language: node_js\n-before_install:\n-  - \"npm install npm -g\"\n node_js:\n   - \"stable\"\n   - \"9\""},{"sha":"ed22acaf7327fdc149a08b08d91bbfee2a4eb67f","filename":"bind.js","status":"modified","additions":8,"deletions":4,"changes":12,"blob_url":"https://github.com/JedWatson/classnames/blob/bbf03f73f30a24cb7e6df06be7b672b578647523/bind.js","raw_url":"https://github.com/JedWatson/classnames/raw/bbf03f73f30a24cb7e6df06be7b672b578647523/bind.js","contents_url":"https://api.github.com/repos/JedWatson/classnames/contents/bind.js?ref=bbf03f73f30a24cb7e6df06be7b672b578647523","patch":"@@ -10,7 +10,7 @@\n \n \tvar hasOwn = {}.hasOwnProperty;\n \n-\tfunction classNames () {\n+\tfunction classNames() {\n \t\tvar classes = [];\n \n \t\tfor (var i = 0; i < arguments.length; i++) {\n@@ -24,9 +24,13 @@\n \t\t\t} else if (Array.isArray(arg)) {\n \t\t\t\tclasses.push(classNames.apply(this, arg));\n \t\t\t} else if (argType === 'object') {\n-\t\t\t\tfor (var key in arg) {\n-\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n-\t\t\t\t\t\tclasses.push(this && this[key] || key);\n+\t\t\t\tif (arg.toString !== Object.prototype.toString) {\n+\t\t\t\t\tclasses.push(arg.toString());\n+\t\t\t\t} else {\n+\t\t\t\t\tfor (var key in arg) {\n+\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n+\t\t\t\t\t\t\tclasses.push(this && this[key] || key);\n+\t\t\t\t\t\t}\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t}"},{"sha":"067530d8861095acafd83960eb02e216b73cac22","filename":"dedupe.js","status":"modified","additions":10,"deletions":6,"changes":16,"blob_url":"https://github.com/JedWatson/classnames/blob/bbf03f73f30a24cb7e6df06be7b672b578647523/dedupe.js","raw_url":"https://github.com/JedWatson/classnames/raw/bbf03f73f30a24cb7e6df06be7b672b578647523/dedupe.js","contents_url":"https://api.github.com/repos/JedWatson/classnames/contents/dedupe.js?ref=bbf03f73f30a24cb7e6df06be7b672b578647523","patch":"@@ -28,12 +28,16 @@\n \t\t\tresultSet[num] = true;\n \t\t}\n \n-\t\tfunction _parseObject (resultSet, object) {\n-\t\t\tfor (var k in object) {\n-\t\t\t\tif (hasOwn.call(object, k)) {\n-\t\t\t\t\t// set value to false instead of deleting it to avoid changing object structure\n-\t\t\t\t\t// https://www.smashingmagazine.com/2012/11/writing-fast-memory-efficient-javascript/#de-referencing-misconceptions\n-\t\t\t\t\tresultSet[k] = !!object[k];\n+\t\tfunction _parseObject(resultSet, object) {\n+\t\t\tif(object.toString !== Object.prototype.toString) {\n+\t\t\t\tresultSet[object.toString()] = true;\n+\t\t\t} else {\n+\t\t\t\tfor (var k in object) {\n+\t\t\t\t\tif (hasOwn.call(object, k)) {\n+\t\t\t\t\t\t// set value to false instead of deleting it to avoid changing object structure\n+\t\t\t\t\t\t// https://www.smashingmagazine.com/2012/11/writing-fast-memory-efficient-javascript/#de-referencing-misconceptions\n+\t\t\t\t\t\tresultSet[k] = !!object[k];\n+\t\t\t\t\t}\n \t\t\t\t}\n \t\t\t}\n \t\t}"},{"sha":"f87ab5f2d2bce3b5b40ee370acf7a8922be2e47a","filename":"index.js","status":"modified","additions":14,"deletions":8,"changes":22,"blob_url":"https://github.com/JedWatson/classnames/blob/bbf03f73f30a24cb7e6df06be7b672b578647523/index.js","raw_url":"https://github.com/JedWatson/classnames/raw/bbf03f73f30a24cb7e6df06be7b672b578647523/index.js","contents_url":"https://api.github.com/repos/JedWatson/classnames/contents/index.js?ref=bbf03f73f30a24cb7e6df06be7b672b578647523","patch":"@@ -10,7 +10,7 @@\n \n \tvar hasOwn = {}.hasOwnProperty;\n \n-\tfunction classNames () {\n+\tfunction classNames() {\n \t\tvar classes = [];\n \n \t\tfor (var i = 0; i < arguments.length; i++) {\n@@ -21,15 +21,21 @@\n \n \t\t\tif (argType === 'string' || argType === 'number') {\n \t\t\t\tclasses.push(arg);\n-\t\t\t} else if (Array.isArray(arg) && arg.length) {\n-\t\t\t\tvar inner = classNames.apply(null, arg);\n-\t\t\t\tif (inner) {\n-\t\t\t\t\tclasses.push(inner);\n+\t\t\t} else if (Array.isArray(arg)) {\n+\t\t\t\tif(arg.length) {\n+\t\t\t\t\tvar inner = classNames.apply(null, arg);\n+\t\t\t\t\tif (inner) {\n+\t\t\t\t\t\tclasses.push(inner);\n+\t\t\t\t\t}\n \t\t\t\t}\n \t\t\t} else if (argType === 'object') {\n-\t\t\t\tfor (var key in arg) {\n-\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n-\t\t\t\t\t\tclasses.push(key);\n+\t\t\t\tif (arg.toString !== Object.prototype.toString) {\n+\t\t\t\t\tclasses.push(arg.toString());\n+\t\t\t\t} else {\n+\t\t\t\t\tfor (var key in arg) {\n+\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n+\t\t\t\t\t\t\tclasses.push(key);\n+\t\t\t\t\t\t}\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t}"},{"sha":"10713a975b5e8f48d87cc467703ccfb7b3e48937","filename":"tests/bind.js","status":"modified","additions":22,"deletions":0,"changes":22,"blob_url":"https://github.com/JedWatson/classnames/blob/bbf03f73f30a24cb7e6df06be7b672b578647523/tests%2Fbind.js","raw_url":"https://github.com/JedWatson/classnames/raw/bbf03f73f30a24cb7e6df06be7b672b578647523/tests%2Fbind.js","contents_url":"https://api.github.com/repos/JedWatson/classnames/contents/tests%2Fbind.js?ref=bbf03f73f30a24cb7e6df06be7b672b578647523","patch":"@@ -71,6 +71,12 @@ describe('bind', function () {\n \t\tit('handles deep array recursion', function () {\n \t\t\tassert.equal(classNames(['a', ['b', ['c', {d: true}]]]), 'a b c d');\n \t\t});\n+\n+\t\tit('handles own toString() method defined on object', function () {\n+\t\t\tassert.equal(classNames({\n+\t\t\t\ttoString: function () { return 'classFromMethod'; }\n+\t\t\t}), 'classFromMethod');\n+\t\t});\n \t});\n \n \tdescribe('classNamesBound', function () {\n@@ -141,6 +147,22 @@ describe('bind', function () {\n \t\tit('handles deep array recursion', function () {\n \t\t\tassert.equal(classNamesBound(['a', ['b', ['c', {d: true}]]]), '#a #b #c #d');\n \t\t});\n+\n+\t\tit('handles own toString() method defined on object', function () {\n+\t\t\tassert.equal(classNamesBound({\n+\t\t\t\ttoString: function () { return 'classFromMethod'; }\n+\t\t\t}), 'classFromMethod');\n+\t\t});\n+\n+\t\tit('handles toString() method defined inherited in object', function () {\n+\t\t\tvar Class1 = function() {};\n+\t\t\tvar Class2 = function() {};\n+\t\t\tClass1.prototype.toString = function() { return 'classFromMethod'; }\n+\t\t\tClass2.prototype = Object.create(Class1.prototype);\n+\t\n+\t\t\tassert.equal(classNamesBound(new Class2()), 'classFromMethod');\n+\t\t});\n+\n \t});\n \n })"},{"sha":"971c5213e2ef5ef1cd8aeed72054057447268c0b","filename":"tests/dedupe.js","status":"modified","additions":15,"deletions":0,"changes":15,"blob_url":"https://github.com/JedWatson/classnames/blob/bbf03f73f30a24cb7e6df06be7b672b578647523/tests%2Fdedupe.js","raw_url":"https://github.com/JedWatson/classnames/raw/bbf03f73f30a24cb7e6df06be7b672b578647523/tests%2Fdedupe.js","contents_url":"https://api.github.com/repos/JedWatson/classnames/contents/tests%2Fdedupe.js?ref=bbf03f73f30a24cb7e6df06be7b672b578647523","patch":"@@ -74,4 +74,19 @@ describe('dedupe', function () {\n \tit('handles deep array recursion', function () {\n \t\tassert.equal(dedupe(['a', ['b', ['c', {d: true}]]]), 'a b c d');\n \t});\n+\n+\tit('handles own toString() method defined on object', function () {\n+\t\tassert.equal(dedupe({\n+\t\t\ttoString: function () { return 'classFromMethod'; }\n+\t\t}), 'classFromMethod');\n+\t});\n+\n+\tit('handles toString() method defined inherited in object', function () {\n+\t\tvar Class1 = function() {};\n+\t\tvar Class2 = function() {};\n+\t\tClass1.prototype.toString = function() { return 'classFromMethod'; }\n+\t\tClass2.prototype = Object.create(Class1.prototype);\n+\n+\t\tassert.equal(dedupe(new Class2()), 'classFromMethod');\n+\t});\n });"},{"sha":"5542e51249a06c4aa1f828aee6d6cf6dafb61905","filename":"tests/index.js","status":"modified","additions":15,"deletions":0,"changes":15,"blob_url":"https://github.com/JedWatson/classnames/blob/bbf03f73f30a24cb7e6df06be7b672b578647523/tests%2Findex.js","raw_url":"https://github.com/JedWatson/classnames/raw/bbf03f73f30a24cb7e6df06be7b672b578647523/tests%2Findex.js","contents_url":"https://api.github.com/repos/JedWatson/classnames/contents/tests%2Findex.js?ref=bbf03f73f30a24cb7e6df06be7b672b578647523","patch":"@@ -90,4 +90,19 @@ describe('classNames', function () {\n \t\t\tgreaterZero: 1\n \t\t}), 'nonEmptyString whitespace function emptyObject nonEmptyObject emptyList nonEmptyList greaterZero');\n \t});\n+\n+\tit('handles toString() method defined on object', function () {\n+\t\tassert.equal(classNames({\n+\t\t\ttoString: function () { return 'classFromMethod'; }\n+\t\t}), 'classFromMethod');\n+\t});\n+\n+\tit('handles toString() method defined inherited in object', function () {\n+\t\tvar Class1 = function() {};\n+\t\tvar Class2 = function() {};\n+\t\tClass1.prototype.toString = function() { return 'classFromMethod'; }\n+\t\tClass2.prototype = Object.create(Class1.prototype);\n+\n+\t\tassert.equal(classNames(new Class2()), 'classFromMethod');\n+\t});\n });"}]},{"url":"https://api.github.com/repos/JedWatson/classnames/issues/16","repository_url":"https://api.github.com/repos/JedWatson/classnames","labels_url":"https://api.github.com/repos/JedWatson/classnames/issues/16/labels{/name}","comments_url":"https://api.github.com/repos/JedWatson/classnames/issues/16/comments","events_url":"https://api.github.com/repos/JedWatson/classnames/issues/16/events","html_url":"https://github.com/JedWatson/classnames/pull/16","id":62392362,"node_id":"MDExOlB1bGxSZXF1ZXN0MzEzMzMyOTY=","number":16,"title":"Adds support for Arrays and Performance Improvements","user":{"login":"danielstreit","id":6923694,"node_id":"MDQ6VXNlcjY5MjM2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6923694?v=4","gravatar_id":"","url":"https://api.github.com/users/danielstreit","html_url":"https://github.com/danielstreit","followers_url":"https://api.github.com/users/danielstreit/followers","following_url":"https://api.github.com/users/danielstreit/following{/other_user}","gists_url":"https://api.github.com/users/danielstreit/gists{/gist_id}","starred_url":"https://api.github.com/users/danielstreit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielstreit/subscriptions","organizations_url":"https://api.github.com/users/danielstreit/orgs","repos_url":"https://api.github.com/users/danielstreit/repos","events_url":"https://api.github.com/users/danielstreit/events{/privacy}","received_events_url":"https://api.github.com/users/danielstreit/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-03-17T13:13:46Z","updated_at":"2015-03-17T13:35:45Z","closed_at":"2015-03-17T13:35:45Z","author_association":"NONE","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/JedWatson/classnames/pulls/16","html_url":"https://github.com/JedWatson/classnames/pull/16","diff_url":"https://github.com/JedWatson/classnames/pull/16.diff","patch_url":"https://github.com/JedWatson/classnames/pull/16.patch","merged_at":"2015-03-17T13:35:45Z"},"body":"Here's another implementation to support Arrays. This also removes the use of Array#join in favor of String concatenation. [JSPerf](http://jsperf.com/classnames-util/3)\n","reactions":{"url":"https://api.github.com/repos/JedWatson/classnames/issues/16/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/JedWatson/classnames/issues/16/timeline","performed_via_github_app":null,"state_reason":null,"score":1,"files":[{"sha":"66d0847311e515d65a3b47d81b9feaccb6f86541","filename":"index.js","status":"modified","additions":11,"deletions":8,"changes":19,"blob_url":"https://github.com/JedWatson/classnames/blob/4e25eba624bceb8b5449a62033261cd442b178e6/index.js","raw_url":"https://github.com/JedWatson/classnames/raw/4e25eba624bceb8b5449a62033261cd442b178e6/index.js","contents_url":"https://api.github.com/repos/JedWatson/classnames/contents/index.js?ref=4e25eba624bceb8b5449a62033261cd442b178e6","patch":"@@ -1,24 +1,27 @@\n function classNames() {\n-\tvar args = arguments;\n-\tvar classes = [];\n+\tvar classes = '';\n+\tvar arg;\n \n-\tfor (var i = 0; i < args.length; i++) {\n-\t\tvar arg = args[i];\n+\tfor (var i = 0; i < arguments.length; i++) {\n+\t\targ = arguments[i];\n \t\tif (!arg) {\n \t\t\tcontinue;\n \t\t}\n \n \t\tif ('string' === typeof arg || 'number' === typeof arg) {\n-\t\t\tclasses.push(arg);\n+\t\t\tclasses += ' ' + arg;\n+\t\t} else if (Object.prototype.toString.call(arg) === '[object Array]') {\n+\t\t\tclasses += ' ' + classNames.apply(null, arg);\n \t\t} else if ('object' === typeof arg) {\n \t\t\tfor (var key in arg) {\n-\t\t\t\tif (arg.hasOwnProperty(key) && arg[key]) {\n-\t\t\t\t\tclasses.push(key);\n+\t\t\t\tif (!arg.hasOwnProperty(key) || !arg[key]) {\n+\t\t\t\t\tcontinue;\n \t\t\t\t}\n+\t\t\t\tclasses += ' ' + key;\n \t\t\t}\n \t\t}\n \t}\n-\treturn classes.join(' ');\n+\treturn classes.substr(1);\n }\n \n // safely export classNames in case the script is included directly on a page"},{"sha":"51df1845b79df7044840221334bf23c68d6f4703","filename":"tests.js","status":"modified","additions":29,"deletions":0,"changes":29,"blob_url":"https://github.com/JedWatson/classnames/blob/4e25eba624bceb8b5449a62033261cd442b178e6/tests.js","raw_url":"https://github.com/JedWatson/classnames/raw/4e25eba624bceb8b5449a62033261cd442b178e6/tests.js","contents_url":"https://api.github.com/repos/JedWatson/classnames/contents/tests.js?ref=4e25eba624bceb8b5449a62033261cd442b178e6","patch":"@@ -28,4 +28,33 @@ describe('classNames', function() {\n   it('returns an empty string for an empty configuration', function() {\n     assert.equal(classNames({}), '');\n   });\n+\n+  it('supports an array of class names', function() {\n+    assert.equal(classNames(['a', 'b']), 'a b');\n+  });\n+\n+  it('joins array arguments with string arguments', function() {\n+    assert.equal(classNames(['a', 'b'], 'c'), 'a b c');\n+    assert.equal(classNames('c', ['a', 'b']), 'c a b');\n+  });\n+\n+  it('handles multiple array arguments', function() {\n+    assert.equal(classNames(['a', 'b'], ['c', 'd']), 'a b c d');\n+  });\n+\n+  it('handles arrays that include falsy and true values', function() {\n+    assert.equal(classNames(['a', 0, null, undefined, false, true, 'b']), 'a b');\n+  });\n+\n+  it('handles arrays that include arrays', function() {\n+    assert.equal(classNames(['a', ['b', 'c']]), 'a b c');\n+  });\n+\n+  it('handles arrays that include objects', function() {\n+    assert.equal(classNames(['a', {b: true, c: false}]), 'a b');\n+  });\n+\n+  it('handles deep array recursion', function() {\n+    assert.equal(classNames(['a', ['b', ['c', {d: true}]]]), 'a b c d');\n+  });\n });"}]}]